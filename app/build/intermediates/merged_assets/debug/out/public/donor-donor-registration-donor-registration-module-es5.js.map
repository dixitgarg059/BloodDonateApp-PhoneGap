{"version":3,"sources":["webpack:///node_modules/@angular/fire/__ivy_ngcc__/fesm2015/angular-fire-auth.js","webpack:///src/app/donor/donor-registration/donor-registration.page.html","webpack:///src/app/donor/donor-registration/donor-registration-routing.module.ts","webpack:///src/app/donor/donor-registration/donor-registration.module.ts","webpack:///src/app/donor/donor-registration/donor-registration.page.scss","webpack:///src/app/donor/donor-registration/donor-registration.page.ts","webpack:///src/app/service/donor-registration.service.ts"],"names":["AngularFireAuth","options","nameOrConfig","platformId","zone","schedulers","keepUnstableUntilFirst","auth","undefined","pipe","outsideAngular","runOutsideAngular","app","bufferSize","refCount","_","subscribe","authState","onAuthStateChanged","bind","user","onIdTokenChanged","idToken","getIdToken","idTokenResult","getIdTokenResult","ɵfac","AngularFireAuth_Factory","t","ctorParameters","type","decorators","args","Object","ɵprov","factory","token","providedIn","AngularFireAuthModule","ɵmod","ɵinj","AngularFireAuthModule_Factory","providers","routes","path","component","DonorRegistrationPageRoutingModule","imports","forChild","exports","DonorRegistrationPageModule","declarations","DonorRegistrationPage","donorRegistrationService","angularFireAuth","formBuilder","firebaseUiAuthService","toastController","counter","obserVableReceivedData","savingDetails","lastDonatedDefaultDate","Date","toISOString","substring","donorRegistrationDetails","Id","DonorName","ContactNo","State","City","BloodGroup","Email","LastDonatedDate","BloodDonationOption","phoneNumber","donorDetails","GetMyDetails","x","docs","forEach","doc","data","console","log","id","trim","error","donorLoginForm","get","patchValue","getStates","filter","getCities","statesList","group","name","compose","maxLength","required","phone","minLength","state","city","bloodgroup","bloodDonationOption","lastDonatedDate","ui","start","getUiConfig","DonorLoggedIn","alert","cities","value","split","cityName","push","citiesList","$event","detail","e","target","setValue","onlyself","create","message","duration","color","toast","present","preventDefault","me","valid","UpdateMyDetails","then","err","presentFailureToast","presentSuccessToast","AddMyDetails","markAsDirty","selector","template","DonorRegistrationService","angularFireStore","firebaseAuth","phoneNo","dot","collection","ref","where","donorObj","update","add"],"mappings":"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","file":"donor-donor-registration-donor-registration-module-es5.js","sourcesContent":["import { Injectable, Inject, Optional, PLATFORM_ID, NgZone, ɵɵdefineInjectable, ɵɵinject, NgModule } from '@angular/core';\nimport { of, Observable, from } from 'rxjs';\nimport { observeOn, switchMap, map, shareReplay, first } from 'rxjs/operators';\nimport { ɵAngularFireSchedulers, ɵkeepUnstableUntilFirstFactory, ɵfirebaseAppFactory, ɵlazySDKProxy, FIREBASE_OPTIONS, FIREBASE_APP_NAME } from '@angular/fire';\n\n/**\n * @fileoverview added by tsickle\n * @suppress {checkTypes,extraRequire,missingOverride,missingReturn,unusedPrivateMembers,uselessCode} checked by tsc\n */\n// WARNING: interface has both a type and a value, skipping emit\nimport * as ɵngcc0 from '@angular/core';\nclass AngularFireAuth {\n    /**\n     * @param {?} options\n     * @param {?} nameOrConfig\n     * @param {?} platformId\n     * @param {?} zone\n     */\n    constructor(options, nameOrConfig, \n    // tslint:disable-next-line:ban-types\n    platformId, zone) {\n        /** @type {?} */\n        const schedulers = new ɵAngularFireSchedulers(zone);\n        /** @type {?} */\n        const keepUnstableUntilFirst = ɵkeepUnstableUntilFirstFactory(schedulers);\n        /** @type {?} */\n        const auth = of(undefined).pipe(observeOn(schedulers.outsideAngular), switchMap((/**\n         * @return {?}\n         */\n        () => zone.runOutsideAngular((/**\n         * @return {?}\n         */\n        () => import('firebase/auth'))))), map((/**\n         * @return {?}\n         */\n        () => ɵfirebaseAppFactory(options, zone, nameOrConfig))), map((/**\n         * @param {?} app\n         * @return {?}\n         */\n        app => zone.runOutsideAngular((/**\n         * @return {?}\n         */\n        () => app.auth())))), shareReplay({ bufferSize: 1, refCount: false }));\n        // HACK, as we're exporting auth.Auth, rather than auth, developers importing firebase.auth\n        //       (e.g, `import { auth } from 'firebase/app'`) are getting an undefined auth object unexpectedly\n        //       as we're completely lazy. Let's eagerly load the Auth SDK here.\n        //       There could potentially be race conditions still... but this greatly decreases the odds while\n        //       we reevaluate the API.\n        /** @type {?} */\n        const _ = auth.pipe(first()).subscribe();\n        this.authState = auth.pipe(switchMap((/**\n         * @param {?} auth\n         * @return {?}\n         */\n        auth => zone.runOutsideAngular((/**\n         * @return {?}\n         */\n        () => new Observable(auth.onAuthStateChanged.bind(auth)))))), keepUnstableUntilFirst);\n        this.user = auth.pipe(switchMap((/**\n         * @param {?} auth\n         * @return {?}\n         */\n        auth => zone.runOutsideAngular((/**\n         * @return {?}\n         */\n        () => new Observable(auth.onIdTokenChanged.bind(auth)))))), keepUnstableUntilFirst);\n        this.idToken = this.user.pipe(switchMap((/**\n         * @param {?} user\n         * @return {?}\n         */\n        user => user ? from(user.getIdToken()) : of(null))));\n        this.idTokenResult = this.user.pipe(switchMap((/**\n         * @param {?} user\n         * @return {?}\n         */\n        user => user ? from(user.getIdTokenResult()) : of(null))));\n        return ɵlazySDKProxy(this, auth, zone);\n    }\n}\nAngularFireAuth.ɵfac = function AngularFireAuth_Factory(t) { return new (t || AngularFireAuth)(ɵngcc0.ɵɵinject(FIREBASE_OPTIONS), ɵngcc0.ɵɵinject(FIREBASE_APP_NAME, 8), ɵngcc0.ɵɵinject(PLATFORM_ID), ɵngcc0.ɵɵinject(ɵngcc0.NgZone)); };\n/** @nocollapse */\nAngularFireAuth.ctorParameters = () => [\n    { type: undefined, decorators: [{ type: Inject, args: [FIREBASE_OPTIONS,] }] },\n    { type: undefined, decorators: [{ type: Optional }, { type: Inject, args: [FIREBASE_APP_NAME,] }] },\n    { type: Object, decorators: [{ type: Inject, args: [PLATFORM_ID,] }] },\n    { type: NgZone }\n];\n/** @nocollapse */ AngularFireAuth.ɵprov = ɵɵdefineInjectable({ factory: function AngularFireAuth_Factory() { return new AngularFireAuth(ɵɵinject(FIREBASE_OPTIONS), ɵɵinject(FIREBASE_APP_NAME, 8), ɵɵinject(PLATFORM_ID), ɵɵinject(NgZone)); }, token: AngularFireAuth, providedIn: \"any\" });\n/*@__PURE__*/ (function () { ɵngcc0.ɵsetClassMetadata(AngularFireAuth, [{\n        type: Injectable,\n        args: [{\n                providedIn: 'any'\n            }]\n    }], function () { return [{ type: undefined, decorators: [{\n                type: Inject,\n                args: [FIREBASE_OPTIONS]\n            }] }, { type: undefined, decorators: [{\n                type: Optional\n            }, {\n                type: Inject,\n                args: [FIREBASE_APP_NAME]\n            }] }, { type: Object, decorators: [{\n                type: Inject,\n                args: [PLATFORM_ID]\n            }] }, { type: ɵngcc0.NgZone }]; }, null); })();\nif (false) {\n    /**\n     * Observable of authentication state; as of Firebase 4.0 this is only triggered via sign-in/out\n     * @type {?}\n     */\n    AngularFireAuth.prototype.authState;\n    /**\n     * Observable of the currently signed-in user's JWT token used to identify the user to a Firebase service (or null).\n     * @type {?}\n     */\n    AngularFireAuth.prototype.idToken;\n    /**\n     * Observable of the currently signed-in user (or null).\n     * @type {?}\n     */\n    AngularFireAuth.prototype.user;\n    /**\n     * Observable of the currently signed-in user's IdTokenResult object which contains the ID token JWT string and other\n     * helper properties for getting different data associated with the token as well as all the decoded payload claims\n     * (or null).\n     * @type {?}\n     */\n    AngularFireAuth.prototype.idTokenResult;\n}\n\n/**\n * @fileoverview added by tsickle\n * @suppress {checkTypes,extraRequire,missingOverride,missingReturn,unusedPrivateMembers,uselessCode} checked by tsc\n */\nclass AngularFireAuthModule {\n}\nAngularFireAuthModule.ɵmod = ɵngcc0.ɵɵdefineNgModule({ type: AngularFireAuthModule });\nAngularFireAuthModule.ɵinj = ɵngcc0.ɵɵdefineInjector({ factory: function AngularFireAuthModule_Factory(t) { return new (t || AngularFireAuthModule)(); }, providers: [AngularFireAuth] });\n/*@__PURE__*/ (function () { ɵngcc0.ɵsetClassMetadata(AngularFireAuthModule, [{\n        type: NgModule,\n        args: [{\n                providers: [AngularFireAuth]\n            }]\n    }], null, null); })();\n\n/**\n * @fileoverview added by tsickle\n * @suppress {checkTypes,extraRequire,missingOverride,missingReturn,unusedPrivateMembers,uselessCode} checked by tsc\n */\n\n/**\n * @fileoverview added by tsickle\n * @suppress {checkTypes,extraRequire,missingOverride,missingReturn,unusedPrivateMembers,uselessCode} checked by tsc\n */\n\nexport { AngularFireAuth, AngularFireAuthModule };\n\n//# sourceMappingURL=angular-fire-auth.js.map","export default \"<ion-header>\\n  <ion-toolbar>\\n    <ion-buttons slot=\\\"start\\\">\\n      <ion-menu-button></ion-menu-button>\\n    </ion-buttons>\\n    <ion-list lines=\\\"none\\\">\\n      <ion-item>\\n        <ion-avatar slot=\\\"start\\\">\\n          <img src=\\\"../assets/logo.png\\\">\\n        </ion-avatar>\\n        <ion-label>Donor Registration</ion-label>\\n      </ion-item>\\n    </ion-list>\\n  </ion-toolbar>\\n</ion-header>\\n\\n<ion-content>\\n  <div *ngIf=\\\"!(user | async)\\\">\\n    <ion-grid>\\n      <ion-row>\\n        <ion-col></ion-col>\\n        <ion-col>\\n          <ion-label>SignIn using Your Phone</ion-label>\\n        </ion-col>\\n        <ion-col></ion-col>\\n      </ion-row>\\n      <ion-row>\\n        <ion-col>\\n          <div id=\\\"firebaseui-auth-container\\\"></div>\\n        </ion-col>\\n      </ion-row>\\n    </ion-grid>\\n  </div>\\n  <div *ngIf=\\\"(user | async) && obserVableReceivedData == true\\\">\\n    <form [formGroup]=\\\"donorLoginForm\\\" (ngSubmit)=\\\"SaveDonorDetails($event)\\\">\\n      <ion-item>\\n        <ion-label position=\\\"floating\\\">Your Name</ion-label>\\n        <ion-input placeholder=\\\"Your Name\\\" formControlName=\\\"name\\\"></ion-input>\\n      </ion-item>\\n      <span class=\\\"error ion-padding\\\"\\n        *ngIf=\\\"(donorLoginForm.get('name').touched || donorLoginForm.get('name').dirty) && donorLoginForm.get('name').errors?.required\\\">\\n        Name is required.\\n      </span>\\n      <span class=\\\"error ion-padding\\\"\\n        *ngIf=\\\"(donorLoginForm.get('name').touched || donorLoginForm.get('name').dirty) && donorLoginForm.get('name').errors?.maxlength\\\">\\n        only 30 characters long.\\n      </span>\\n\\n      <ion-item>\\n        <ion-label position=\\\"floating\\\">Your Mobile No</ion-label>\\n        <ion-input placeholder=\\\"Your Mobile No\\\" disabled formControlName=\\\"phone\\\"></ion-input>\\n      </ion-item>\\n      <span class=\\\"error ion-padding\\\"\\n        *ngIf=\\\"(donorLoginForm.get('phone').touched || donorLoginForm.get('phone').dirty) && donorLoginForm.get('phone').errors?.pattern\\\">\\n        only digits allowed\\n      </span>\\n      <span class=\\\"error ion-padding\\\"\\n        *ngIf=\\\"(donorLoginForm.get('phone').touched || donorLoginForm.get('phone').dirty) && (donorLoginForm.get('phone').errors?.maxlength)\\\">\\n        10digits - only indian numbers allowed\\n      </span>\\n\\n      <ion-item>\\n        <ion-label position=\\\"floating\\\">State</ion-label>\\n        <ion-select interface=\\\"action-sheet\\\" placeholder=\\\"Select State\\\" (ionChange)=\\\"getCities()\\\" name=\\\"stateDropDown\\\"\\n          id=\\\"stateDropDown\\\" formControlName=\\\"state\\\">\\n          <ion-select-option *ngFor=\\\"let state of statesList\\\" [value]=\\\"state.id\\\">{{state.name}}</ion-select-option>\\n        </ion-select>\\n      </ion-item>\\n      <span class=\\\"error ion-padding\\\"\\n        *ngIf=\\\"(donorLoginForm.get('state').touched || donorLoginForm.get('state').dirty) && donorLoginForm.get('state').errors?.required\\\">\\n        Select State\\n      </span>\\n\\n      <ion-item>\\n        <ion-label position=\\\"floating\\\">City</ion-label>\\n        <ion-select interface=\\\"action-sheet\\\" placeholder=\\\"Select City\\\" name=\\\"cityDropDown\\\" formControlName=\\\"city\\\"\\n          id=\\\"cityDropDown\\\">\\n          <ion-select-option *ngFor=\\\"let city of citiesList\\\" [value]=\\\"city.id\\\">{{city.name}}</ion-select-option>\\n        </ion-select>\\n      </ion-item>\\n      <span class=\\\"error ion-padding\\\"\\n        *ngIf=\\\"(donorLoginForm.get('city').touched || donorLoginForm.get('city').dirty) && donorLoginForm.get('city').errors?.required\\\">\\n        Select City\\n      </span>\\n\\n      <ion-item>\\n        <ion-label position=\\\"floating\\\">Blood Group</ion-label>\\n        <ion-select interface=\\\"action-sheet\\\" placeholder=\\\"Select Blood Group\\\" name=\\\"bloodGroupDropDown\\\"\\n          id=\\\"bloodGroupDropDown\\\" formControlName=\\\"bloodgroup\\\">\\n          <ion-select-option value=\\\"A+\\\">A+</ion-select-option>\\n          <ion-select-option value=\\\"B+\\\">B+</ion-select-option>\\n          <ion-select-option value=\\\"AB+\\\">AB+</ion-select-option>\\n          <ion-select-option value=\\\"O+\\\">O+</ion-select-option>\\n          <ion-select-option value=\\\"A-\\\">A-</ion-select-option>\\n          <ion-select-option value=\\\"B-\\\">B-</ion-select-option>\\n          <ion-select-option value=\\\"AB-\\\">AB-</ion-select-option>\\n          <ion-select-option value=\\\"O-\\\">O-</ion-select-option>\\n        </ion-select>\\n      </ion-item>\\n      <span class=\\\"error ion-padding\\\"\\n        *ngIf=\\\"(donorLoginForm.get('bloodgroup').touched || donorLoginForm.get('bloodgroup').dirty) && donorLoginForm.get('bloodgroup').errors?.required\\\">\\n        select blood group\\n      </span>\\n\\n      <ion-item>\\n        <ion-label position=\\\"floating\\\">Your Previous Blood Donation Details</ion-label>\\n        <p class=\\\"ion-padding-end\\\"></p>\\n      </ion-item>\\n\\n\\n      <ion-item lines=\\\"none\\\">\\n        <ion-segment color=\\\"medium\\\" formControlName=\\\"bloodDonationOption\\\" (ionChange)=\\\"segmentChanged($event)\\\">\\n          <ion-segment-button value=\\\"NeverDonated\\\">\\n            <ion-icon name=\\\"alert-circle-outline\\\"></ion-icon>\\n            <ion-label>Never Donated</ion-label>\\n          </ion-segment-button>\\n          <ion-segment-button value=\\\"LastDonatedOn\\\">\\n            <ion-icon name=\\\"calendar-outline\\\"></ion-icon>\\n            <ion-label>Donated On</ion-label>\\n          </ion-segment-button>\\n          <ion-segment-button value=\\\"NoDonationWish\\\">\\n            <ion-icon name=\\\"close-circle-outline\\\"></ion-icon>\\n            <ion-label>Opt Out</ion-label>\\n          </ion-segment-button>\\n        </ion-segment>\\n      </ion-item>\\n      <br>\\n      <ng-template [ngIf]=\\\"donorRegistrationDetails.BloodDonationOption == 'LastDonatedOn'\\\" id=\\\"calendarControl\\\">\\n        <ion-item>\\n          <ion-label>Select your Last Donated Date</ion-label>\\n          <ion-datetime displayFormat=\\\"DDDD MMM D, YYYY\\\" min=\\\"2005\\\" max=\\\"2050\\\" (ionChange)=\\\"SetLastDonatedDate($event)\\\"\\n            formControlName=\\\"lastDonatedDate\\\"></ion-datetime>\\n        </ion-item>\\n      </ng-template>\\n      <ng-template [ngIf]=\\\"donorRegistrationDetails.BloodDonationOption == 'NoDonationWish'\\\">\\n        <ion-label><cite>Your details will not be shown in search results</cite></ion-label>\\n      </ng-template>\\n\\n\\n      <div class=\\\"ion-padding\\\">\\n        <div *ngIf=\\\"!savingDetails;else loadingButton\\\">\\n          <ion-button color=\\\"medium\\\" type=\\\"submit\\\" expand=\\\"block\\\" [disabled]=\\\"!donorLoginForm.valid\\\">\\n            <ion-icon name=\\\"water-outline\\\"></ion-icon>Save My Details\\n          </ion-button>\\n        </div>\\n        <ng-template #loadingButton>\\n          <ion-button expand=\\\"block\\\" type=\\\"button\\\" disabled class=\\\"ion-no-margin\\\">\\n            <ion-spinner name=\\\"bubbles\\\"></ion-spinner>\\n          </ion-button>\\n        </ng-template>\\n      </div>\\n\\n    </form>\\n  </div>\\n</ion-content>\\n<ion-footer class=\\\"ion-no-border ion-justify-content-center\\\"\\n  style=\\\"background-color: #fe616a !important; color: #ffff !important;\\\">\\n  <p style=\\\"text-align: center; background-color: #fe616a; color: #ffff;\\\">All India Payam-E-Insaniyat Forum.<br>&copy;&nbsp;All Rights Reserved.</p>\\n</ion-footer>\";","import { NgModule } from '@angular/core';\nimport { Routes, RouterModule } from '@angular/router';\n\nimport { DonorRegistrationPage } from './donor-registration.page';\nimport * as firebase from 'firebase';\nimport 'firebase/auth';\nimport * as firebaseui from 'firebaseui';\n\nconst routes: Routes = [\n  {\n    path: '',\n    component: DonorRegistrationPage\n  }\n];\n\n@NgModule({\n  imports: [RouterModule.forChild(routes)],\n  exports: [RouterModule],\n})\nexport class DonorRegistrationPageRoutingModule { }\n","import { NgModule } from '@angular/core';\nimport { CommonModule } from '@angular/common';\n\n\nimport { IonicModule } from '@ionic/angular';\n\nimport { DonorRegistrationPageRoutingModule } from './donor-registration-routing.module';\n\nimport { DonorRegistrationPage } from './donor-registration.page';\n\nimport {  ReactiveFormsModule, FormsModule } from '@angular/forms';\n\n\n@NgModule({\n  imports: [\n    CommonModule,\n    ReactiveFormsModule,\n    FormsModule,\n    IonicModule,\n    DonorRegistrationPageRoutingModule\n  ],\n  declarations: [DonorRegistrationPage]\n})\nexport class DonorRegistrationPageModule {}\n","export default \"ion-content, ion-select, ion-select-option, ion-list, ion-button, ion-item, ion-title, ion-menu-button, ion-ripple-effect, ion-footer {\\n  --ion-background-color:#fe616a;\\n  --color:#ffffff;\\n}\\n/*# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbInNyYy9hcHAvZG9ub3IvZG9ub3ItcmVnaXN0cmF0aW9uL0U6XFxMZWFybmluZy1Qcm9qZWN0c1xcaW9uaWMtY3Jhc2hDb3Vyc2VcXGJsb29kLWRvbmF0ZS1hcHBcXEJsb29kRG9uYXRlQXBwLVBob25lR2FwL3NyY1xcYXBwXFxkb25vclxcZG9ub3ItcmVnaXN0cmF0aW9uXFxkb25vci1yZWdpc3RyYXRpb24ucGFnZS5zY3NzIiwic3JjL2FwcC9kb25vci9kb25vci1yZWdpc3RyYXRpb24vZG9ub3ItcmVnaXN0cmF0aW9uLnBhZ2Uuc2NzcyJdLCJuYW1lcyI6W10sIm1hcHBpbmdzIjoiQUFhQTtFQUNJLDhCQUFBO0VBQ0EsZUFBQTtBQ1pKIiwiZmlsZSI6InNyYy9hcHAvZG9ub3IvZG9ub3ItcmVnaXN0cmF0aW9uL2Rvbm9yLXJlZ2lzdHJhdGlvbi5wYWdlLnNjc3MiLCJzb3VyY2VzQ29udGVudCI6WyJcblxuLy8gZGl2Lm1vbnRodmlldy1jb250YWluZXIge1xuLy8gICAgIGhlaWdodDogMWVtICFpbXBvcnRhbnQ7XG4vLyB9XG4vLyAuaW52YWxpZCB7XG4vLyAgICAgYm9yZGVyOiAxcHggc29saWQgI2VhNjE1Mztcbi8vIH1cbi8vIC5lcnJvciB7XG4vLyAgY29sb3I6IHJlZDtcbiBcbi8vIH1cblxuaW9uLWNvbnRlbnQsIGlvbi1zZWxlY3QsIGlvbi1zZWxlY3Qtb3B0aW9uLCBpb24tbGlzdCwgaW9uLWJ1dHRvbiwgaW9uLWl0ZW0sIGlvbi10aXRsZSwgaW9uLW1lbnUtYnV0dG9uLCBpb24tcmlwcGxlLWVmZmVjdCwgaW9uLWZvb3RlciB7XG4gICAgLS1pb24tYmFja2dyb3VuZC1jb2xvcjojZmU2MTZhO1xuICAgIC0tY29sb3I6I2ZmZmZmZjtcbn1cblxuIiwiaW9uLWNvbnRlbnQsIGlvbi1zZWxlY3QsIGlvbi1zZWxlY3Qtb3B0aW9uLCBpb24tbGlzdCwgaW9uLWJ1dHRvbiwgaW9uLWl0ZW0sIGlvbi10aXRsZSwgaW9uLW1lbnUtYnV0dG9uLCBpb24tcmlwcGxlLWVmZmVjdCwgaW9uLWZvb3RlciB7XG4gIC0taW9uLWJhY2tncm91bmQtY29sb3I6I2ZlNjE2YTtcbiAgLS1jb2xvcjojZmZmZmZmO1xufSJdfQ== */\";","import { Component, OnInit } from '@angular/core';\nimport { State } from '../../models/state';\nimport { CitiesList, City } from 'src/app/models/city';\nimport { Observable } from 'rxjs';\nimport { DonorRegistrationService } from '../../service/donor-registration.service';\nimport * as firebase from 'firebase';\nimport { AngularFireAuth } from '@angular/fire/auth';\n\nimport { ReactiveFormsModule, FormsModule, FormGroup, FormBuilder, FormControl, Validators } from '@angular/forms';\nimport { FirebaseUiAuthService } from 'src/app/service/firebase-ui-auth.service';\nimport { DonateBlood } from 'src/app/models/donate-blood-model';\nimport { ToastController } from '@ionic/angular';\n\n@Component({\n  selector: 'app-donor-registration',\n  templateUrl: './donor-registration.page.html',\n  styleUrls: ['./donor-registration.page.scss'],\n})\n\nexport class DonorRegistrationPage implements OnInit {\n\n  public user: Observable<firebase.User>;\n  public donorLoginForm: FormGroup;\n  public statesList: State[];\n  public citiesList: City[];\n  private counter: number = 0;\n  public obserVableReceivedData: boolean = false;\n  public savingDetails: boolean = false;\n\n  public lastDonatedDefaultDate: any = new Date().toISOString().substring(0, 10);\n\n  public donorRegistrationDetails: DonateBlood = {\n    Id: '',\n    DonorName: '',\n    ContactNo: '',\n    State: 0,\n    City: 0,\n    BloodGroup: '',\n    Email: '',\n    LastDonatedDate: '',\n    BloodDonationOption: ''\n  };\n\n  // userPhoneNo: string = '';\n  // otpSent: Boolean = false;\n  // otp: string = '123456';\n\n  constructor(public donorRegistrationService: DonorRegistrationService, public angularFireAuth: AngularFireAuth, public formBuilder: FormBuilder, public firebaseUiAuthService: FirebaseUiAuthService, public toastController: ToastController) {\n    \n  }\n\n  DonorLoggedIn(phoneNumber: any) {\n    let donorDetails: DonateBlood = { Id: '', BloodDonationOption: '', DonorName: '', BloodGroup: '', State: 0, City: 0, ContactNo: '', LastDonatedDate: '', Email: '' };\n    this.savingDetails = true;\n    this.donorRegistrationService.GetMyDetails(phoneNumber).subscribe(x => {\n      x.docs.forEach(function (doc) {\n        let data = doc.data();\n        console.log('doc data', data);\n        console.log('doc id:', doc.id);\n        donorDetails.DonorName = data.DonorName.trim();\n        donorDetails.State = data.State;\n        donorDetails.City = data.City;\n        donorDetails.ContactNo = phoneNumber;\n        //donorDetails.ContactNo = data.ContactNo.trim();\n        donorDetails.Email = data.Email.trim();\n        donorDetails.BloodGroup = data.BloodGroup.trim();\n        donorDetails.LastDonatedDate = data.LastDonatedDate;\n        donorDetails.BloodDonationOption = data.BloodDonationOption;\n        donorDetails.Id = doc.id;\n      });\n    }, error => {\n      console.log(error);\n    }, () => {\n      console.log('ContactNo:', this.donorRegistrationDetails.ContactNo);\n      this.donorRegistrationDetails = donorDetails;\n      this.obserVableReceivedData = true;\n      this.donorLoginForm.get('name').patchValue(this.donorRegistrationDetails.DonorName);\n      this.donorLoginForm.get('phone').patchValue(phoneNumber);\n      this.donorLoginForm.get('state').patchValue(this.donorRegistrationService.getStates().filter(x => x.id == this.donorRegistrationDetails.State)[0].id);\n      this.getCities();\n      this.donorLoginForm.get('city').patchValue(this.donorRegistrationDetails.City);\n      this.donorLoginForm.get('bloodgroup').patchValue(this.donorRegistrationDetails.BloodGroup);\n\n      if (this.donorRegistrationDetails.BloodDonationOption == '') {\n        this.donorRegistrationDetails.BloodDonationOption = 'NeverDonated';\n        this.donorLoginForm.get('bloodDonationOption').patchValue(this.donorRegistrationDetails.BloodDonationOption);\n      }\n      else {\n        this.donorLoginForm.get('bloodDonationOption').patchValue(this.donorRegistrationDetails.BloodDonationOption);\n      }\n\n      if (this.donorRegistrationDetails.LastDonatedDate != '') {\n        this.donorLoginForm.get('lastDonatedDate').patchValue(this.donorRegistrationDetails.LastDonatedDate);\n      }\n      else {\n        this.donorRegistrationDetails.LastDonatedDate = this.lastDonatedDefaultDate;\n        this.donorLoginForm.get('lastDonatedDate').patchValue(this.donorRegistrationDetails.LastDonatedDate);\n      }\n\n      this.savingDetails = false;\n\n    });\n  }\n\n  ngOnInit() {\n    this.statesList = this.donorRegistrationService.getStates();\n    this.donorLoginForm = this.formBuilder.group({\n      name: new FormControl(this.donorRegistrationDetails.DonorName, Validators.compose([Validators.maxLength(30), Validators.required])),\n      phone: new FormControl(this.donorRegistrationDetails.ContactNo, Validators.compose([Validators.maxLength(13), Validators.minLength(10), Validators.required])),\n      state: new FormControl(this.donorRegistrationDetails.State, Validators.compose([Validators.required])),\n      city: new FormControl(this.donorRegistrationDetails.City, Validators.compose([Validators.required])),\n      bloodgroup: new FormControl(this.donorRegistrationDetails.BloodGroup, Validators.compose([Validators.required])),\n      bloodDonationOption: new FormControl(this.donorRegistrationDetails.BloodDonationOption, Validators.compose([Validators.required])),\n      lastDonatedDate: new FormControl(this.donorRegistrationDetails.LastDonatedDate, Validators.compose([Validators.required]))\n    });\n  }\n\n  ionViewDidEnter() {\n    //alert('loading');\n    this.firebaseUiAuthService.ui.start('#firebaseui-auth-container', this.firebaseUiAuthService.getUiConfig());\n    this.user = this.angularFireAuth.authState;\n    console.log('this.user:', this.user);\n    this.angularFireAuth.onAuthStateChanged((user) => {\n      if (user != null) {\n        this.DonorLoggedIn(user.phoneNumber);\n      }\n    }, (error) => {\n      alert(error);\n    });\n  }\n\n  getCities() {\n    //if (e) e.preventDefault();\n    this.counter = 0;\n    let cities: City[] = [];\n    console.log('states', this.donorRegistrationDetails.State);\n    console.log(this.donorLoginForm.get('state').value);\n    CitiesList[this.donorLoginForm.get('state').value].split('|').forEach(cityName => {\n      cities.push({ id: this.counter, name: cityName.trim() });\n      this.counter = this.counter + 1;\n    });\n    this.citiesList = cities;\n  }\n\n  segmentChanged($event: any) {\n    this.donorRegistrationDetails.BloodDonationOption = $event.detail.value;\n  }\n\n  SetLastDonatedDate(e) {\n    this.donorRegistrationDetails.LastDonatedDate = new Date(e.target.value).toISOString().substring(0, 10);\n    this.donorLoginForm.get('lastDonatedDate').setValue(this.donorRegistrationDetails.LastDonatedDate, {\n      onlyself: true\n    });\n  }\n\n  async presentSuccessToast() {\n    const toast = await this.toastController.create({\n      message: 'Your details have been saved.',\n      duration: 2000,\n      color: 'success'\n    });\n    toast.present();\n  }\n\n  async presentFailureToast() {\n    const toast = await this.toastController.create({\n      message: 'Unable to save details.',\n      duration: 2000,\n      color: 'danger'\n    });\n    toast.present();\n  }\n\n  SaveDonorDetails(e: any) {\n    e.preventDefault();\n    //this.isFormSubmitted = true;\n    let me = this;\n    //console.log(this.donorLoginForm.value);\n    //console.log(this.donorRegistrationDetails.BloodDonationDetails.lastDonatedDate);\n    if (me.donorLoginForm.valid) {\n      this.savingDetails = true;\n      console.log('my id:', this.donorRegistrationDetails.Id);\n      this.donorRegistrationDetails.DonorName = this.donorLoginForm.get('name').value;\n      this.donorRegistrationDetails.ContactNo = this.donorLoginForm.get('phone').value;\n      this.donorRegistrationDetails.State = this.donorLoginForm.get('state').value;\n      this.donorRegistrationDetails.City = this.donorLoginForm.get('city').value;\n      this.donorRegistrationDetails.BloodGroup = this.donorLoginForm.get('bloodgroup').value;\n      this.donorRegistrationDetails.BloodDonationOption = this.donorLoginForm.get('bloodDonationOption').value;\n      this.donorRegistrationDetails.LastDonatedDate = this.donorLoginForm.get('lastDonatedDate').value;\n\n      if (this.donorRegistrationDetails.Id != '') {\n        console.log('upadte:', this.donorRegistrationDetails);\n        this.donorRegistrationService.UpdateMyDetails(this.donorRegistrationDetails).then(() => {\n          //alert('details updated');\n        }).catch((err) => {\n          this.presentFailureToast();\n          console.log('err:', err);\n        }).finally(() => {\n          this.savingDetails = false;\n          this.presentSuccessToast();\n          this.DonorLoggedIn(this.donorRegistrationDetails.ContactNo);\n        });\n        return;\n      }\n      else {\n        console.log('add details:', this.donorRegistrationDetails);\n        this.donorRegistrationService.AddMyDetails(this.donorRegistrationDetails).then((x) => {\n          //alert('details added');\n        }).catch((err) => {\n          this.presentFailureToast();\n          console.log('err:', err);\n        }).finally(() => {\n          this.savingDetails = false;\n          this.presentSuccessToast();\n          console.log('user contact no:', this.donorRegistrationDetails.ContactNo);\n          this.DonorLoggedIn(this.donorRegistrationDetails.ContactNo);\n        });\n        return;\n      }\n\n    } else {\n      //invalid form, alert user\n      //alert('empty fields');\n      console.log('invalid form');\n      this.donorLoginForm.markAsDirty();\n      console.log(this.donorRegistrationDetails);\n    }\n  }\n}\n\n\n","import { Injectable } from '@angular/core';\nimport { LocationsService } from './locations.service';\nimport { AngularFirestore, AngularFirestoreCollection, AngularFirestoreDocument, DocumentReference, QuerySnapshot } from '@angular/fire/firestore';\nimport { map, take } from 'rxjs/operators';\nimport { Observable, of, Subscribable } from 'rxjs';\nimport { AngularFireAuth } from '@angular/fire/auth';\nimport { DonateBlood } from '../models/donate-blood-model';\nimport { firestore } from 'firebase';\n\n\n@Injectable({\n  providedIn: 'root'\n})\nexport class DonorRegistrationService extends LocationsService {\n  user: Observable<firebase.User>;\n  private donorCollection: AngularFirestoreCollection<DonateBlood>;\n  constructor(private angularFireStore: AngularFirestore, private firebaseAuth: AngularFireAuth) {\n    super();\n    this.user = firebaseAuth.authState;\n  }\n\n  GetMyDetails(phoneNo: string): Observable<firestore.QuerySnapshot<firestore.DocumentData>> {\n    let dot: DonateBlood = { Id: '', BloodDonationOption: '', DonorName: '', BloodGroup: '', State: 0, City: 0, ContactNo: '', LastDonatedDate: '', Email: '' };\n    // this.angularFireStore.collection<DonateBlood>('Donors', ref => ref.where('ContactNo', '==', phoneNo)).get().subscribe((x) => {\n    //   x.docs.forEach(function (doc) {\n    //     let data = doc.data();\n    //     console.log('doc data', data);\n    //     dot.DonorName = data.DonorName.trim();\n    //     dot.State = data.State.trim();\n    //     dot.City = data.City.trim();\n    //     dot.ContactNo = data.ContactNo.trim();\n    //     dot.Email = data.Email.trim();\n    //     dot.BloodGroup = data.BloodGroup.trim();\n    //     dot.LastDonatedDate = data.LastDonatedDate;\n    //     dot.BloodDonationOption = data.BloodDonationOption;\n    //     dot.Id ='123';\n    //   });\n    // }, (error) => {\n    //   console.log('error while getting data', error);\n    // });\n\n    return this.angularFireStore.collection<DonateBlood>('Donors', ref => ref.where('ContactNo', '==', phoneNo)).get();\n    //console.log('data before returning', dot);\n    //return dot;\n  }\n\n  UpdateMyDetails(donorObj: DonateBlood): Promise<void> {\n\n     return this.angularFireStore.collection<DonateBlood>('Donors').doc(donorObj.Id).update(donorObj);\n\n     /*\n     .then(() => {\n        return 'success';\n      }, err => {\n        return err;\n      });s\n     */\n  }\n\n  AddMyDetails(donorObj: DonateBlood): Promise<DocumentReference> {\n    return this.angularFireStore.collection<DonateBlood>('Donors').add(donorObj);\n\n    /*\n    .then(function (docRef) {\n      console.log(\"Document written with ID: \", docRef.id);\n    })\n      .catch(function (error) {\n        console.error(\"Error adding document: \", error);\n      });\n\n  }    */\n  }\n}\n\n"]}